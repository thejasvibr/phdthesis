<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter7 itsfm, an open-source package to reliably segment and measure sounds by frequency modulation | Theoretical and empirical investigation of echolocation in bat groups</title>
  <meta name="description" content="A thesis" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter7 itsfm, an open-source package to reliably segment and measure sounds by frequency modulation | Theoretical and empirical investigation of echolocation in bat groups" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A thesis" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter7 itsfm, an open-source package to reliably segment and measure sounds by frequency modulation | Theoretical and empirical investigation of echolocation in bat groups" />
  
  <meta name="twitter:description" content="A thesis" />
  

<meta name="author" content="Thejasvi Beleyur" />


<meta name="date" content="2021-01-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html"/>
<link rel="next" href="general-discussion.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet" />



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="" data-path="zusammenf.html"><a href="zusammenf.html"><i class="fa fa-check"></i>Zusammenfassung</a></li>
<li class="chapter" data-level="1" data-path="general-introduction.html"><a href="general-introduction.html"><i class="fa fa-check"></i><b>1</b> General Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="general-introduction.html"><a href="general-introduction.html#the-noise-in-active-sensing-groups"><i class="fa fa-check"></i><b>1.1</b> The ‘noise’ in active sensing groups</a></li>
<li class="chapter" data-level="1.2" data-path="general-introduction.html"><a href="general-introduction.html#bat-echolocation"><i class="fa fa-check"></i><b>1.2</b> Bat echolocation</a><ul>
<li class="chapter" data-level="1.2.1" data-path="general-introduction.html"><a href="general-introduction.html#listening-in-the-chorus-from-humans-to-animals"><i class="fa fa-check"></i><b>1.2.1</b> Listening in the chorus: from humans to animals</a></li>
<li class="chapter" data-level="1.2.2" data-path="general-introduction.html"><a href="general-introduction.html#active-sensing-animals-and-listening-in-the-noise"><i class="fa fa-check"></i><b>1.2.2</b> Active sensing animals and listening in the noise</a></li>
<li class="chapter" data-level="1.2.3" data-path="general-introduction.html"><a href="general-introduction.html#active-sensing-in-bats-and-in-noise"><i class="fa fa-check"></i><b>1.2.3</b> Active sensing in bats and in noise</a></li>
<li class="chapter" data-level="1.2.4" data-path="general-introduction.html"><a href="general-introduction.html#sensory-adaptations-for-listening-in-the-noise"><i class="fa fa-check"></i><b>1.2.4</b> Sensory adaptations for listening in the ‘noise’</a></li>
<li class="chapter" data-level="1.2.5" data-path="general-introduction.html"><a href="general-introduction.html#treading-trodden-paths-with-new-technology"><i class="fa fa-check"></i><b>1.2.5</b> Treading trodden paths with new technology</a></li>
<li class="chapter" data-level="1.2.6" data-path="general-introduction.html"><a href="general-introduction.html#focus-on-open-and-reproducible-science"><i class="fa fa-check"></i><b>1.2.6</b> Focus on open and reproducible science</a></li>
<li class="chapter" data-level="1.2.7" data-path="general-introduction.html"><a href="general-introduction.html#group-echolocation-as-a-serious-sensory-challenge"><i class="fa fa-check"></i><b>1.2.7</b> Group echolocation as a ‘serious’ sensory challenge</a></li>
<li class="chapter" data-level="1.2.8" data-path="general-introduction.html"><a href="general-introduction.html#implications-of-group-echolocation-on-collective-behaviour"><i class="fa fa-check"></i><b>1.2.8</b> Implications of group echolocation on collective behaviour</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="general-introduction.html"><a href="general-introduction.html#thesis-outline"><i class="fa fa-check"></i><b>1.3</b> Thesis outline</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="cpnchapter.html"><a href="cpnchapter.html"><i class="fa fa-check"></i><b>2</b> Modeling active sensing in groups of bats reveals echo detection even in large groups</a><ul>
<li class="chapter" data-level="" data-path="cpnchapter.html"><a href="cpnchapter.html#cpn_abstract"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="2.1" data-path="cpnchapter.html"><a href="cpnchapter.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="cpnchapter.html"><a href="cpnchapter.html#materials-and-methods"><i class="fa fa-check"></i><b>2.2</b> Materials and methods</a><ul>
<li class="chapter" data-level="2.2.1" data-path="cpnchapter.html"><a href="cpnchapter.html#model-scenarios"><i class="fa fa-check"></i><b>2.2.1</b> Model Scenarios</a></li>
<li class="chapter" data-level="2.2.2" data-path="cpnchapter.html"><a href="cpnchapter.html#model-implementation"><i class="fa fa-check"></i><b>2.2.2</b> Model Implementation</a></li>
<li class="chapter" data-level="2.2.3" data-path="cpnchapter.html"><a href="cpnchapter.html#model-parametrization"><i class="fa fa-check"></i><b>2.2.3</b> Model Parametrization</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="cpnchapter.html"><a href="cpnchapter.html#results"><i class="fa fa-check"></i><b>2.3</b> Results</a><ul>
<li class="chapter" data-level="2.3.1" data-path="cpnchapter.html"><a href="cpnchapter.html#effect-of-group-size-on-neighbor-detection"><i class="fa fa-check"></i><b>2.3.1</b> Effect of Group Size on Neighbor Detection</a></li>
<li class="chapter" data-level="2.3.2" data-path="cpnchapter.html"><a href="cpnchapter.html#effect-of-call-parameters-group-geometry-and-acoustic-parameters-on-neighbor-detection"><i class="fa fa-check"></i><b>2.3.2</b> Effect of Call Parameters, Group Geometry, and Acoustic Parameters on Neighbor Detection</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="cpnchapter.html"><a href="cpnchapter.html#discussion"><i class="fa fa-check"></i><b>2.4</b> Discussion</a><ul>
<li class="chapter" data-level="2.4.1" data-path="cpnchapter.html"><a href="cpnchapter.html#improved-echo-detection-in-real-world-situations"><i class="fa fa-check"></i><b>2.4.1</b> Improved Echo Detection in Real-World Situations</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="cpnchapter.html"><a href="cpnchapter.html#conclusion"><i class="fa fa-check"></i><b>2.5</b> Conclusion</a><ul>
<li class="chapter" data-level="2.5.1" data-path="cpnchapter.html"><a href="cpnchapter.html#acknowledgements"><i class="fa fa-check"></i><b>2.5.1</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="cpnchapter.html"><a href="cpnchapter.html#supplementary-information"><i class="fa fa-check"></i><b>2.6</b> Supplementary Information</a><ul>
<li class="chapter" data-level="2.6.1" data-path="cpnchapter.html"><a href="cpnchapter.html#model-parametrization-1"><i class="fa fa-check"></i><b>2.6.1</b> Model parametrization</a></li>
<li class="chapter" data-level="2.6.2" data-path="cpnchapter.html"><a href="cpnchapter.html#model-implementation-1"><i class="fa fa-check"></i><b>2.6.2</b> Model implementation</a></li>
<li class="chapter" data-level="2.6.3" data-path="cpnchapter.html"><a href="cpnchapter.html#open-source-software-used-in-the-research"><i class="fa fa-check"></i><b>2.6.3</b> Open-source software used in the research</a></li>
<li class="chapter" data-level="2.6.4" data-path="cpnchapter.html"><a href="cpnchapter.html#acknowledgements-1"><i class="fa fa-check"></i><b>2.6.4</b> Acknowledgements</a></li>
<li class="chapter" data-level="2.6.5" data-path="cpnchapter.html"><a href="cpnchapter.html#supplementary-schematics-tables-and-figures"><i class="fa fa-check"></i><b>2.6.5</b> Supplementary Schematics, Tables and Figures</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="horseshoe-bat-craziness-paper.html"><a href="horseshoe-bat-craziness-paper.html"><i class="fa fa-check"></i><b>3</b> Horseshoe bat craziness paper</a></li>
<li class="chapter" data-level="4" data-path="ushichka.html"><a href="ushichka.html"><i class="fa fa-check"></i><b>4</b> ushichka</a><ul>
<li class="chapter" data-level="4.1" data-path="ushichka.html"><a href="ushichka.html#example-one"><i class="fa fa-check"></i><b>4.1</b> Example one</a></li>
<li class="chapter" data-level="4.2" data-path="ushichka.html"><a href="ushichka.html#example-two"><i class="fa fa-check"></i><b>4.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="robust-self-calibration-of-constant-offset-time-difference-of-arrival.html"><a href="robust-self-calibration-of-constant-offset-time-difference-of-arrival.html"><i class="fa fa-check"></i><b>5</b> Robust Self-Calibration of Constant Offset Time-Difference-of-Arrival</a><ul>
<li class="chapter" data-level="" data-path="robust-self-calibration-of-constant-offset-time-difference-of-arrival.html"><a href="robust-self-calibration-of-constant-offset-time-difference-of-arrival.html#sfsabstract"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="5.1" data-path="cpnchapter.html"><a href="cpnchapter.html#introduction"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="robust-self-calibration-of-constant-offset-time-difference-of-arrival.html"><a href="robust-self-calibration-of-constant-offset-time-difference-of-arrival.html#time-difference-of-arrival-self-calibration"><i class="fa fa-check"></i><b>5.2</b> Time-difference-of-arrival self calibration</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html"><a href="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html"><i class="fa fa-check"></i><b>6</b> <code>tacost</code>: Testing and simulating the performance of acoustic tracking systems</a><ul>
<li class="chapter" data-level="" data-path="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html"><a href="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html#tacostabstract"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="6.1" data-path="cpnchapter.html"><a href="cpnchapter.html#introduction"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html"><a href="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html#statement-of-need"><i class="fa fa-check"></i><b>6.2</b> Statement of need</a></li>
<li class="chapter" data-level="6.3" data-path="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html"><a href="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html#design"><i class="fa fa-check"></i><b>6.3</b> Design</a></li>
<li class="chapter" data-level="6.4" data-path="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html"><a href="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html#examples"><i class="fa fa-check"></i><b>6.4</b> Examples</a><ul>
<li class="chapter" data-level="6.4.1" data-path="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html"><a href="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html#localisation-accuracy-of-the-tristar60-system"><i class="fa fa-check"></i><b>6.4.1</b> Localisation accuracy of the tristar60 system</a></li>
<li class="chapter" data-level="6.4.2" data-path="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html"><a href="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html#localisation-accuracy-of-a-multi-microphone-array-in-the-field"><i class="fa fa-check"></i><b>6.4.2</b> Localisation accuracy of a multi-microphone array in the field</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html"><a href="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html#future-directions"><i class="fa fa-check"></i><b>6.5</b> Future directions</a></li>
<li class="chapter" data-level="6.6" data-path="cpnchapter.html"><a href="cpnchapter.html#acknowledgements"><i class="fa fa-check"></i><b>6.6</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="itsfm.html"><a href="itsfm.html"><i class="fa fa-check"></i><b>7</b> <code>itsfm</code>, an open-source package to reliably segment and measure sounds by frequency modulation</a><ul>
<li class="chapter" data-level="" data-path="itsfm.html"><a href="itsfm.html#abstractitsfm"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="7.1" data-path="cpnchapter.html"><a href="cpnchapter.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a><ul>
<li class="chapter" data-level="7.1.1" data-path="itsfm.html"><a href="itsfm.html#state-of-the-art-cf-fm-call-segmentation"><i class="fa fa-check"></i><b>7.1.1</b> State of the art: CF-FM call segmentation</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="itsfm.html"><a href="itsfm.html#package-description"><i class="fa fa-check"></i><b>7.2</b> Package description</a><ul>
<li class="chapter" data-level="7.2.1" data-path="itsfm.html"><a href="itsfm.html#peak-percentage-segmentation"><i class="fa fa-check"></i><b>7.2.1</b> Peak-percentage segmentation</a></li>
<li class="chapter" data-level="7.2.2" data-path="itsfm.html"><a href="itsfm.html#pwvd-segmentation"><i class="fa fa-check"></i><b>7.2.2</b> PWVD segmentation</a></li>
<li class="chapter" data-level="7.2.3" data-path="itsfm.html"><a href="itsfm.html#supporting-itsfm-methods"><i class="fa fa-check"></i><b>7.2.3</b> Supporting <code>itsfm</code> methods</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="itsfm.html"><a href="itsfm.html#methods-evaluation"><i class="fa fa-check"></i><b>7.3</b> Methods evaluation</a><ul>
<li class="chapter" data-level="7.3.1" data-path="itsfm.html"><a href="itsfm.html#synthetic-dataset-creation-and-segmentation"><i class="fa fa-check"></i><b>7.3.1</b> Synthetic dataset creation and segmentation</a></li>
<li class="chapter" data-level="7.3.2" data-path="cpnchapter.html"><a href="cpnchapter.html#results"><i class="fa fa-check"></i><b>7.3.2</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="cpnchapter.html"><a href="cpnchapter.html#discussion"><i class="fa fa-check"></i><b>7.4</b> Discussion</a></li>
<li class="chapter" data-level="7.5" data-path="itsfm.html"><a href="itsfm.html#open-source-software-and-packages-used"><i class="fa fa-check"></i><b>7.5</b> Open-source software and packages used</a></li>
<li class="chapter" data-level="7.6" data-path="itsfm.html"><a href="itsfm.html#supporting-information"><i class="fa fa-check"></i><b>7.6</b> Supporting information</a></li>
<li class="chapter" data-level="7.7" data-path="cpnchapter.html"><a href="cpnchapter.html#acknowledgements"><i class="fa fa-check"></i><b>7.7</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="general-discussion.html"><a href="general-discussion.html"><i class="fa fa-check"></i><b>8</b> General Discussion</a></li>
<li class="chapter" data-level="9" data-path="cpnchapter.html"><a href="cpnchapter.html#acknowledgements"><i class="fa fa-check"></i><b>9</b> Acknowledgements</a></li>
<li class="chapter" data-level="10" data-path="author-contributions.html"><a href="author-contributions.html"><i class="fa fa-check"></i><b>10</b> Author contributions</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Theoretical and empirical investigation of echolocation in bat groups</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="itsfm" class="section level1">
<h1><span class="header-section-number">Chapter7</span> <code>itsfm</code>, an open-source package to reliably segment and measure sounds by frequency modulation</h1>

<p>This chapter was published as a preprint on <em>biorXiv</em>:</p>
<p><em>Beleyur, T. (2020). <code>itsfm</code>, an open-source package to reliably segment and measure sounds by frequency modulation bioRxiv. INSERT DOI HERE!!!!</em></p>
<div style="page-break-after: always;"></div>
<pre><code>## 
## Attaching package: &#39;flextable&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:kableExtra&#39;:
## 
##     as_image, footnote</code></pre>
<div id="abstractitsfm" class="section level2 unnumbered">
<h2>Abstract</h2>
<p>Analysing animal vocalisations in detail provides insights into the biomechanics, decision making and sensory processes behind their behaviours. Echolocating bats, and in particular, the CF-FM calls of high-duty cycle bats serve as a convenient model system to illustrate this point. The CF component in the CF-FM call is used for prey detection and the FM component is used in target ranging. According to the behavioural context at hand such as flight with conspecifics or prey capture, bats choose to increase the duration, intensity or spectral range of the components differently. Studying the call component alterations requires an objective methodology that first segments the components and then allows measurements on them. Studies till now have segmented the call components manually, or automatically using what I term the ‘peak-frequency’ method. Manual segmentation is error prone, while the ‘peak-frequency’ method requires on-axis recordings for good results. Despite multiple papers using a peak-frequency based segmentation, there remain no publicly available software implementations. <code>itsfm</code> is an open-source package that fills this gap with two implemntations that can segment CF-FM calls, one of them being an implementation of the peak-percentage method. <code>itsfm</code> additionally introduces the ‘pseudo-Wigner-Ville distribution’ (PWVD) method for call segmentation, thus allowing the segmentation of calls captured under a wider variety of recording conditions. I create a synthetic dataset and assess the performance of the PWVD method and the ‘peak-frequency’ method. The PWVD performs consistently well in call component segmentation in comparison to the peak-percentage method. I also discuss the supporting methods in the <code>itsfm</code> package that can help the further automatic segmentation, measurement and analysis of sounds. Though originally developed for the segmentation and measurement of CF-FM bat calls, the methods in <code>itsfm</code> are species-agnostic, and may be used for vocalisations of any type.</p>
<div style="page-break-after: always;"></div>
</div>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">7.1</span> Introduction</h2>
<p>Vocalisations are a window into the sensory, behavioural and biomechanical states of an animal <span class="citation">(Green and Marler <a href="#ref-green1979analysis" role="doc-biblioref">1979</a>; Metzner and Müller <a href="#ref-metzner2016ultrasound" role="doc-biblioref">2016</a>)</span>. Echolocating bats present a unique model system where vocalisations play a fundamental role in the animal’s sensorimotor decisions. Echolocating bats emit loud calls and listen for returning echoes to detect objects around them <span class="citation">(Donald R Griffin <a href="#ref-griffin1958listening" role="doc-biblioref">1958</a>)</span>. Bats are known to flexibly alter various aspects of their calls to optimise echo detection, and thus their own sensory input. For instance, bats flying in the open emit long calls with a narrow bandwidth, and switch to short high-bandwidth sweeps as they are about attack an insect prey <span class="citation">(M Brock Fenton <a href="#ref-fenton2013questions" role="doc-biblioref">2013</a>)</span>.</p>
<p>Among echolocating bats, the so-called CF-FM bats are a particularly interesting model system to study sensorimotor decisions. CF-FM calls (Figure <a href="itsfm.html#fig:cffmseg">7.1</a>) consist of a constant-frequency (CF) component and upto two frequency-modulated (FM) components. The CF component is used in the detection of prey wing-flutter <span class="citation">(Schnitzler and Denzinger <a href="#ref-schnitzler2011auditory" role="doc-biblioref">2011</a>)</span> while the FM component is used in target ranging <span class="citation">(Tian and Schnitzler <a href="#ref-tian1997echolocation" role="doc-biblioref">1997</a>)</span>. Bats are known to independently alter the CF and FM components depending on the presence of echolocating conspecifics <span class="citation">(Fawcett et al. <a href="#ref-fawcett2015echolocation" role="doc-biblioref">2015</a>)</span>, artificial playbacks <span class="citation">(Lu, Zhang, and Luo <a href="#ref-lu2020echolocating" role="doc-biblioref">2020</a>; Hage et al. <a href="#ref-hage2013ambient" role="doc-biblioref">2013</a>, <a href="#ref-hage2014ambient" role="doc-biblioref">2014</a>)</span> or during flight manuevers <span class="citation">(Tian and Schnitzler <a href="#ref-tian1997echolocation" role="doc-biblioref">1997</a>; Schoeppler, Schnitzler, and Denzinger <a href="#ref-schoeppler2018precise" role="doc-biblioref">2018</a>)</span>. Studying how CF-FM bats alter their call components requires an objective method that can reliably segment the components, and thus facilitate accurate acoustic parameter measurement.</p>
<div id="state-of-the-art-cf-fm-call-segmentation" class="section level3">
<h3><span class="header-section-number">7.1.1</span> State of the art: CF-FM call segmentation</h3>
<p>Manual segmentation of calls into CF and FM is the most intuitive and direct one can take, and has been an approach used in publications to date <span class="citation">(Vater et al. <a href="#ref-vater2003development" role="doc-biblioref">2003</a>; Fawcett et al. <a href="#ref-fawcett2015echolocation" role="doc-biblioref">2015</a>; Gessinger et al. <a href="#ref-gessinger2019unusual" role="doc-biblioref">2019</a>)</span>. Manual segmentation however doesn’t scale with sample size, are not very reproducible and can be biased <span class="citation">(Brumm et al. <a href="#ref-brumm2017measurement" role="doc-biblioref">2017</a>)</span>. <span class="citation">Tian and Schnitzler (<a href="#ref-tian1997echolocation" role="doc-biblioref">1997</a>)</span> is to my knowledge, the first publication to attempt a semi-manual segmentation of the CF and FM call components, and their method has formed the founding basis for for further work. I hereby refer to methods based on their approach as the ‘peak percentage’ approach. <span class="citation">Tian and Schnitzler (<a href="#ref-tian1997echolocation" role="doc-biblioref">1997</a>)</span> method relies on the fact that the CF component is at the highest frequency and forms a large part of the call. By filtering below and above a threshold frequency close to the CF frequency, the FM and CF components can be separated. In <em>Rhinolophus ferrumequinum</em>, <span class="citation">Tian and Schnitzler (<a href="#ref-tian1997echolocation" role="doc-biblioref">1997</a>)</span> define the threshold frequency at 0.8kHz below the 2nd harmonic of ‘CF component’. 0.8 kHz corresponds to around 1% of the CF peak frequency (~80 kHz), and is also equivalent to filtering at 99 % of the CF peak frequency. In their semi-manual method <span class="citation">Tian and Schnitzler (<a href="#ref-tian1997echolocation" role="doc-biblioref">1997</a>)</span> measured the CF peak frequency using an FFT frequency analyser to separate FM and CF components. <span class="citation">Schoeppler, Schnitzler, and Denzinger (<a href="#ref-schoeppler2018precise" role="doc-biblioref">2018</a>)</span> further automate the method of <span class="citation">Tian and Schnitzler (<a href="#ref-tian1997echolocation" role="doc-biblioref">1997</a>)</span> by using 99% of the CF frequency to define FM components in a spectrogram based method run on a computer. <span class="citation">Lu, Zhang, and Luo (<a href="#ref-lu2020echolocating" role="doc-biblioref">2020</a>)</span> follow on the methodology of <span class="citation">Schoeppler, Schnitzler, and Denzinger (<a href="#ref-schoeppler2018precise" role="doc-biblioref">2018</a>)</span> and <span class="citation">Tian and Schnitzler (<a href="#ref-tian1997echolocation" role="doc-biblioref">1997</a>)</span>, and set the FM to begin at 97% of the CF peak frequency. Peak-percentage type approaches allow a straightforward segmentation and measurement, however the method was developed keeping on-axis, high signal-to-noise ratio recordings in mind, such as those that are obtained in flight room experiments. For instance, a pre-requisite for the peak-percentage method to work is a spectrally dominant CF component, in the absence of which the threshold frequency is not identified correctly, leading to poor segmentation. The peak-percentage method also requires setting a reasonable peak-percentage to define the threshold frequency that determines where the CF ends and FM begins. Previous studies have used percentages between 97-99% of the CF peak frequency, and the exact percentage is likely to play a big role in segmentation accuracy.</p>
<p>Despite the apparent popularity of the peak-percentage method there are no openly available code implementations that have been tested for their performance against synthetic data. While code descriptions help explaining the principles behind design, it is not sufficient to ensure uniformity or correctness in implementation. Differences in implementation may lead to differences in scientific results <span class="citation">(Baker and Vincent <a href="#ref-bakervincent2019" role="doc-biblioref">2019</a>; McFee et al. <a href="#ref-mcfee2018open" role="doc-biblioref">2018</a>)</span>. Publishing code as publicly available packages allows for external code inspection and improvements. <code>itsfm</code> fills the gap by implementing the peak-percentage method and introducing an alternate segmenation method. The segmentation methods are tested against synthetic datasets, with a open-source code base written in a non-proprietary language, and supported by a detailed user-guide online.</p>
</div>
</div>
<div id="package-description" class="section level2">
<h2><span class="header-section-number">7.2</span> Package description</h2>
<p><code>itsfm</code> currently provides two main approaches to segment the CF and FM components of a sound (Figure <a href="itsfm.html#fig:cffmseg">7.1</a>), the ‘peak-percentage’ and ‘pwvd’ methods.</p>
<div class="figure"><span id="fig:cffmseg"></span>
<img src="original_papers/itsfm-paper/figures/pwvd_cffm_segmentation.png" alt="Diagnostic plot showing the CF/FM segmentation output of a \textit{Rhinolophus euryale/mehelyi} call" width="100%" />
<p class="caption">
Figure 7.1: Diagnostic plot showing the CF/FM segmentation output of a  call
</p>
</div>
<div id="peak-percentage-segmentation" class="section level3">
<h3><span class="header-section-number">7.2.1</span> Peak-percentage segmentation</h3>
<p>The <code>peak-percentage</code> method is best for sounds with one or more dominant CF components of the same frequency, and FM components that are below the CF component’s frequency (Figure <a href="itsfm.html#fig:pkpctgdiags">7.2</a>). A typical rhinolophid/hipposiderid CF-FM call is the simplest example for which this method works. This method’s implementation is inspired by previously published efforts to segment CF-FM calls into their respective components <span class="citation">(Lu, Zhang, and Luo <a href="#ref-lu2020echolocating" role="doc-biblioref">2020</a>; Tian and Schnitzler <a href="#ref-tian1997echolocation" role="doc-biblioref">1997</a>; Schoeppler, Schnitzler, and Denzinger <a href="#ref-schoeppler2018precise" role="doc-biblioref">2018</a>)</span>. The approach implemented here creates two versions of the raw audio that are low and high passed at a threshold frequency. The threshold frequency is calculated as a fixed percentage of the raw audio’s peak frequency, eg. 99%. The dB rms profile of the low and high passed audio are then calculated and compared by subtraction. Continuous regions where the low-passed audio is greater than the high-passed audio are considered FM regions, and CF regions where it is vice-versa (Figure <a href="itsfm.html#fig:pkpctgdiags">7.2</a>).</p>
<div class="figure"><span id="fig:pkpctgdiags"></span>
<img src="original_papers/itsfm-paper/figures/pkpctage_profiles.png" alt="Diagnostic output showing the underlying basis of the peak-percentage CF-FM segmentation method. Top: A spectrogram representation of the call shown in Figure 1, Below: the high/low-passed dB rms profiles of the call. The peak frequency of the entire call is taken and a high and low-passed version of the sound if created at 99$\%$ of the call peak frequency. The dB rms profile differences of the high and low-passed sounds are calculated and subtracted from each other. The region where the low-passed dB rms profile is higher are labelled FM and vice-versa as CF. " width="291" />
<p class="caption">
Figure 7.2: Diagnostic output showing the underlying basis of the peak-percentage CF-FM segmentation method. Top: A spectrogram representation of the call shown in Figure 1, Below: the high/low-passed dB rms profiles of the call. The peak frequency of the entire call is taken and a high and low-passed version of the sound if created at 99<span class="math inline">\(\%\)</span> of the call peak frequency. The dB rms profile differences of the high and low-passed sounds are calculated and subtracted from each other. The region where the low-passed dB rms profile is higher are labelled FM and vice-versa as CF.
</p>
</div>
<p>The peak-percentage method is relatively easy to parameterise as it accepts two intuitive input parameters, the <code>peak_percentage</code> (peak percentage value between 0-1) and <code>window_size</code> (the number of samples for the window used to calculate the dB rms profile of the high/low passed audio). A set of additional optional parameters may also be specified. The default low/high pass filter is a second order elliptic filter with 3dB ripple (pass band) and 10dB minimum attenuation in the stop band. The user may also optionally specify their own recursive filter coefficients.</p>
<p>A major drawback in the peak-percentage method is its limited use-cases. Sounds must be sufficiently similar to the ‘ideal’ spectro-temporal shape of a classic CF-FM call, or they will be mis-segmented. Not even all CF-FM calls are likely to be segmented properly, eg. CF-FM calls emitted during landing or approach with short CF segments and longer FM segments. If the CF segment of the input sound does not contribute majorly to the spectrum, then the peak-percentage method fails. Experience with field recordings having off-axis CF-FM bat calls shows that the peak-percentage method also fails here because the CF component may not be as dominant as in on-axis recordings of the same call. Aside from CF-FM echolocation calls, the peak-percentage method may also be used for certain types of bird calls with long CF and short FM calls (eg. those emitted by the <em>Pachycephala</em> genus)</p>
</div>
<div id="pwvd-segmentation" class="section level3">
<h3><span class="header-section-number">7.2.2</span> PWVD segmentation</h3>
<p>The <code>pwvd</code> method (Figure ) tracks the frequency modulation over the course of the input sound. Regions with an above threshold frequency modulation are considered FM regions, and those below are considered CF regions. The frequency modulation over the course of a sound is estimated by first generating a a sample-level ‘frequency profile’ through the use of the Pseudo Wigner-Ville Distribution (PWVD). The PWVD is a relatively underutilised method in bioacoustics <span class="citation">(but see Fu and Kloepper <a href="#ref-fu2018systematic" role="doc-biblioref">2018</a>; Kopsinis et al. <a href="#ref-kopsinis2010time" role="doc-biblioref">2010</a>)</span> which generates time-frequency representations with high spectro-temporal resolution <span class="citation">(Boashash <a href="#ref-boashash2015time" role="doc-biblioref">2015</a>)</span>. The first derivative of the frequency profile is used to generate a sample-level estimate of frequency modulation and thus segment regions that are above or below the threshold.</p>
<div class="figure"><span id="fig:fmratediags"></span>
<img src="original_papers/itsfm-paper/figures/pwvd_fmrate_diagnostic.png" alt="Diagnostic plots of the pwvd method. Top: Sample-level frequency modulatation rate estimates. All regions $\geq$ the threshold FM rate (here 2kHz/ms) are considered FM regions, while all regions below this are considered CF regions. Middle-Bottom: spectrogram and waveform of the original sound for comparison." width="290" />
<p class="caption">
Figure 7.3: Diagnostic plots of the pwvd method. Top: Sample-level frequency modulatation rate estimates. All regions <span class="math inline">\(\geq\)</span> the threshold FM rate (here 2kHz/ms) are considered FM regions, while all regions below this are considered CF regions. Middle-Bottom: spectrogram and waveform of the original sound for comparison.
</p>
</div>
<p>The <code>pwvd</code> method requires somewhat more parametrisation and methodological understanding than the <code>peak-percentage</code> method. The <code>pwvd</code> method’s effectiveness is dependent on the <code>fmrate_threshold</code> (frequency modulation threshold, in kHz/ms), <code>pwvd_window</code> size (number of samples used to form the ‘slices’ of the time-frequency representation) and <code>tfr_cliprange</code> (permitted dynamic range in dB, used to clip the time-frequency representation and remove noise). In addition to these primary parameters, the <code>pwvd</code> method can be further fine-tuned to improve segmentation. The frequency profile is currently generated by tracking the dominant frequency over each slice of the PWVD representation. The dominant frequency approach is susceptible to noise and changes in sound levels over time, and thus requires additional correction routines that interpolate between problematically tracked regions. The problematic regions are identified by measuring the accelaration (second derivative) of the sound’s frequency profile. Regions above a user-set threshold are considered ‘spiky’ and are interpolated or extrapolated based on neighbouring regions frequency estimates.</p>
<p>Even though the <code>pwvd</code> method requires some initial effort to parameterise, the flexibility it provides allows the analysis of a much wider-range of sounds than the <code>peak-percentage</code> method. The CF/FM segmentation in the <code>pwvd</code> method is independent of the actual call shape, and even complex sounds such as bat social calls and bird songs could be segmented through this method. A major drawback of the current <code>pwvd</code> implementation is its inability to reliably segment multi-harmonic sounds. Multi-harmonic sounds present a challenge for the simple frequency tracking in place currently, and alternative algorithms will be a focus of future development.</p>
</div>
<div id="supporting-itsfm-methods" class="section level3">
<h3><span class="header-section-number">7.2.3</span> Supporting <code>itsfm</code> methods</h3>
<p>Along with the primary segmentation methods, <code>itsfm</code> has a collection of supporting methods that allow quantification, visualisation and batch-processing. A series of inbuilt measurement functions allow acoustically relevant measurements such as duration, rms, peak-frequency, or terminal frequency. Custom measurements may also be specified by the user. A sound analysed with the <code>pwvd</code> method generates more than the identified CF/FM regions. Raw data on the frequency profile of the sound and the rate of frequency modulation over time are of interest to researchers studying the speed at which vocalisations can be modulated from a behavioural and biomechanical viewpoint <span class="citation">(Metzner and Müller <a href="#ref-metzner2016ultrasound" role="doc-biblioref">2016</a>; Hage et al. <a href="#ref-hage2013ambient" role="doc-biblioref">2013</a>)</span>. Along with the background data used to form the segmentations, <code>itsfm</code> also provides a series of inbuilt visualisation functions to visualise the input sound itself (<code>visualise_sound</code>) and generate diagnostic plots of the segmentation output through the <code>itsFMInspector</code> class and <code>visualise_cffm_segmentation</code> (Figure <a href="itsfm.html#fig:cffmseg">7.1</a>).</p>
<p>Handling audio recordings made in the field calls for the individual handling of each recording. To aid the reproducible processing of multiple files with unique input parameters <code>itsfm</code> can also be called through a command-line interface that accepts batch files in the CSV format. To facilitate iterative parameter optimisation, the user can choose to select only a few audio recordings or the entire set of files defined in the batch file. For each processed audio file, the diagnostic plot and measurements are saved in the working directory.</p>
<p>The <code>itsfm</code> package also comes bundled with a series of field recordings of bat calls of various hipposiderid, rhinolophid and noctilionid species. These field recordings allow the user to test the utility of the methods in the package, and gain familiarity with setting correct parameters.</p>
</div>
</div>
<div id="methods-evaluation" class="section level2">
<h2><span class="header-section-number">7.3</span> Methods evaluation</h2>
<div id="synthetic-dataset-creation-and-segmentation" class="section level3">
<h3><span class="header-section-number">7.3.1</span> Synthetic dataset creation and segmentation</h3>
<p>To test the accuracy of the segmentation methods implemented in the <code>itsfm</code> package, I generated a set of synthetic CF-FM calls with known segment durations and spectral properties. Synthetic calls were generated based on calls broadly based on the structure of rhinolophid and hipposiderid call parameters using the package’s inbuilt <code>make_cffm_call</code> function. A set of 324 synthetic calls were made through a combination of parameters in Table <a href="itsfm.html#tab:synthtable">7.1</a>. Each synthetic call consisted of an iFM, CF and tFM component (naming as per <span class="citation">(Tian and Schnitzler <a href="#ref-tian1997echolocation" role="doc-biblioref">1997</a>)</span>), and is Tukey windowed without any padded silent samples or background noise. All synthetic calls were generated at a sampling rate of 250kHz.</p>
<template id="5723cd72-a333-48d5-8269-b12ead9da892"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 5px;
  margin-bottom: 5px;
  table-layout: fixed;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-74feca3a{border-collapse:collapse;}.cl-74f3813e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-74f3a8ee{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-74f3a8ef{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-74f3f704{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-74f3f705{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-74f3f706{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-74f3f707{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-74f3f708{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-74f3f709{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-74feca3a'>
<caption class>
<span id="tab:synthtable">Table 7.1: </span> Parameter values used to generate synthetic CF-FM calls. The parameters broadly reflect the call shape of a rhinolophid/hipposiderid CF-FM bat calls. iFM and tFM regions were generated from the same FM parameter set. 9 CF x 6 iFM x 6 tFM combinations = 324 calls
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-74f3f708"><p class="cl-74f3a8ee"><span class="cl-74f3813e">Parameter name</span></p></td><td class="cl-74f3f709"><p class="cl-74f3a8ef"><span class="cl-74f3813e"></span></p></td><td class="cl-74f3f709"><p class="cl-74f3a8ef"><span class="cl-74f3813e">Parameter values</span></p></td><td class="cl-74f3f709"><p class="cl-74f3a8ef"><span class="cl-74f3813e"></span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-74f3f705"><p class="cl-74f3a8ee"><span class="cl-74f3813e">CF duration (ms)</span></p></td><td class="cl-74f3f704"><p class="cl-74f3a8ef"><span class="cl-74f3813e">5</span></p></td><td class="cl-74f3f704"><p class="cl-74f3a8ef"><span class="cl-74f3813e">10</span></p></td><td class="cl-74f3f704"><p class="cl-74f3a8ef"><span class="cl-74f3813e">15</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-74f3f705"><p class="cl-74f3a8ee"><span class="cl-74f3813e">CF peak frequency (kHz)</span></p></td><td class="cl-74f3f704"><p class="cl-74f3a8ef"><span class="cl-74f3813e">40</span></p></td><td class="cl-74f3f704"><p class="cl-74f3a8ef"><span class="cl-74f3813e">60</span></p></td><td class="cl-74f3f704"><p class="cl-74f3a8ef"><span class="cl-74f3813e">90</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-74f3f705"><p class="cl-74f3a8ee"><span class="cl-74f3813e">i/t FM duration (ms)</span></p></td><td class="cl-74f3f704"><p class="cl-74f3a8ef"><span class="cl-74f3813e">1</span></p></td><td class="cl-74f3f704"><p class="cl-74f3a8ef"><span class="cl-74f3813e">2</span></p></td><td class="cl-74f3f704"><p class="cl-74f3a8ef"><span class="cl-74f3813e"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-74f3f706"><p class="cl-74f3a8ee"><span class="cl-74f3813e">i/t FM bandwidth (kHz)</span></p></td><td class="cl-74f3f707"><p class="cl-74f3a8ef"><span class="cl-74f3813e">5</span></p></td><td class="cl-74f3f707"><p class="cl-74f3a8ef"><span class="cl-74f3813e">10</span></p></td><td class="cl-74f3f707"><p class="cl-74f3a8ef"><span class="cl-74f3813e">20</span></p></td></tr></tbody></table></div></template>
<div id="caaee987-07fc-4db7-98f8-b39c97e312f3"></div>
<script>
var dest = document.getElementById("caaee987-07fc-4db7-98f8-b39c97e312f3");
var template = document.getElementById("5723cd72-a333-48d5-8269-b12ead9da892");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;"
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
fantome.appendChild(templateContent);
</script>

<p>The synthetic calls were segmented according to method-specific parameters that were optimised based on trial-and-error on a smaller representative batch. The parameter values used for both segmentations are shown in Table <a href="itsfm.html#tab:segparams">7.2</a>.</p>
<template id="b5953503-acf2-48b8-aebb-f35b33cfe2b9"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 5px;
  margin-bottom: 5px;
  table-layout: fixed;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-75211afe{border-collapse:collapse;}.cl-75177eae{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-7517a65e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-7517cd8c{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7517cd8d{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7517cd8e{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-75211afe'>
<caption class>
<span id="tab:segparams">Table 7.2: </span>Segmentation method specific parameters used to analyse the synthetic data.
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-7517cd8e"><p class="cl-7517a65e"><span class="cl-75177eae">Method</span></p></td><td class="cl-7517cd8e"><p class="cl-7517a65e"><span class="cl-75177eae"></span></p></td><td class="cl-7517cd8e"><p class="cl-7517a65e"><span class="cl-75177eae"></span></p></td><td class="cl-7517cd8e"><p class="cl-7517a65e"><span class="cl-75177eae"></span></p></td><td class="cl-7517cd8e"><p class="cl-7517a65e"><span class="cl-75177eae"></span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">pwvd</span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">Window size (samples)</span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">FM rate threshold (kHz/ms)</span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">Accelaration threshold (kHz/ms2)</span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">Extrapolation window(s)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae"></span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">125</span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">2</span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">10</span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">75x10e-6</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">peak_percentage</span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae"></span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">peak percentage</span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae">double pass</span></p></td><td class="cl-7517cd8c"><p class="cl-7517a65e"><span class="cl-75177eae"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7517cd8d"><p class="cl-7517a65e"><span class="cl-75177eae"></span></p></td><td class="cl-7517cd8d"><p class="cl-7517a65e"><span class="cl-75177eae">125</span></p></td><td class="cl-7517cd8d"><p class="cl-7517a65e"><span class="cl-75177eae">0.99</span></p></td><td class="cl-7517cd8d"><p class="cl-7517a65e"><span class="cl-75177eae">True</span></p></td><td class="cl-7517cd8d"><p class="cl-7517a65e"><span class="cl-75177eae"></span></p></td></tr></tbody></table></div></template>
<div id="008cb8e9-1ac2-41ce-bacc-4ae3ce2b337b"></div>
<script>
var dest = document.getElementById("008cb8e9-1ac2-41ce-bacc-4ae3ce2b337b");
var template = document.getElementById("b5953503-acf2-48b8-aebb-f35b33cfe2b9");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;"
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
fantome.appendChild(templateContent);
</script>

<p>The accuracy of segmentation was determined by comparing the duration of the obtained call components and the original values used to make the synthesied calls. The accuracy of other parameters eg. CF peak frequency, FM bandwidth was not assessed. It follows directly that if the call components have been poorly segmented, any measurements made from the underlying audio will also be unrepresentative of the actual call parameters. Some calls appeared to have more than three components due to false positive CF/FM identifications, and were not included in the accuracy calculations.</p>
</div>
<div id="results" class="section level3">
<h3><span class="header-section-number">7.3.2</span> Results</h3>
<p>The <code>pwvd</code> method correctly identified 99% of all calls (322/324) as having only 3 components. The <code>peak_percentage</code> method correctly identified 94% of all calls as having 3 components (306/324). Both segmentation methods achieved a satisfactory performance. The <code>pwvd</code> method was superior in its segmentation accuracy to the <code>peak_percentage</code> method across all the parameter combinations and call components tested (Table <a href="itsfm.html#fig:performance">7.4</a>, <a href="itsfm.html#tab:accuracypctiles">7.3</a>).</p>
<p>The relatively lower overall performance of the <code>peak_percentage</code> method can be specifically attributed to the call properties of certain synthetic calls. A further inspection of calls with lower than 0.8 accuracy in component duration revealed that calls with a high CF frequency (60 and 90 kHz) and at least one low bandwidth FM component (5kHz) were segmented with lower accuracy. This is explained by the fact that the peak-percentage of the recursive filter is set at 0.99 of the peak frequency. A low FM bandwidth call with a high CF frequency will have its cutoff frequency much below the actual CF frequency (600 and 900 Hz below peak frequency here). The lower cutoff frequency will thus lead to a shorter duration estimate of the low-bandwidth FM component. The accuracy of component durations was above 0.8 for all calls segmented with the <code>pwvd</code> method.</p>
<p>One percent of all <code>pwvd</code> segmented calls and six percent of all <code>peak_percentage</code> segmented calls had more than three detected call components. What caused the false positive call component detections in the <code>pwvd</code> and <code>peak_percentage</code> methods? In the <code>peak_percentage</code> method, the false component detections consisted of very short (<span class="math inline">\(\leq\)</span> 0.1ms) falsely detected CF and FM segments located next to one another. These neighbouring CF and FM segments were caused by brief alterations in the dB rms levels of the high and low-passed audio. The brief alterations in the dB rms levels are likely due to the combination of windowing function applied on the synthetic calls and edge effects during high/low pass filtering. Such edge effects may not necessarily occur during the processing of experimentally recorded calls, which may have smoother roll-offs in call level. The two cases where false components were detected with the <code>pwvd</code> method were borderline cases where false CF components were detected in what should have been an FM region of the call. On further inspection it was shown that the frequency tracking of these false CF components was indeed accurate, but the action of the error-correction routines caused a slight drop in the frequency modulation rate to 1.9 kHz/ms, just slightly below the threshold of 2.0 kHz/ms. The error-correction routines in <code>pwvd</code> are typically required when low signal-level at the beginning and ends of the call causes jumps in the frequency tracking.</p>
<div class="figure"><span id="fig:performance"></span>
<img src="original_papers/itsfm-paper/figures/pwvd-pkpct-comparison.png" alt="\label{fig:performance} Accuracy of call component segmentation of the synthetic test data set shown with raw data overlaid on violinplots. The accuracy is calculated as the measured call component duration by the original duration. Blue violinplots: accuracy of the pwvd method, orange violinplots: accuracy of the peak-percentage method. The pwvd method is superior to the peak-percentage method in its segmentation performance across call components." width="100%" />
<p class="caption">
Figure 7.4:  Accuracy of call component segmentation of the synthetic test data set shown with raw data overlaid on violinplots. The accuracy is calculated as the measured call component duration by the original duration. Blue violinplots: accuracy of the pwvd method, orange violinplots: accuracy of the peak-percentage method. The pwvd method is superior to the peak-percentage method in its segmentation performance across call components.
</p>
</div>
<template id="d7d6389f-b675-494f-b6b5-c80c8970d90a"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 5px;
  margin-bottom: 5px;
  table-layout: fixed;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-75712b34{border-collapse:collapse;}.cl-7566cbda{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-7566f376{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-75671a90{width:70pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75671a91{width:103pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75671a92{width:101pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75671a93{width:100pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75671a94{width:100pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75671a95{width:70pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75671a96{width:103pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75671a97{width:101pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75671a98{width:103pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75671a99{width:101pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75671a9a{width:100pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75674196{width:70pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-75712b34'>
<caption class>
<span id="tab:accuracypctiles">Table 7.3: </span> Summary statistics describing the performance of the two segmentation methods on the synthetised test data set. The pwvd method performs better than the peak-percentage method over the tested parameter space and for all call components (iFM,tFM and CF).
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-75674196"><p class="cl-7566f376"><span class="cl-7566cbda">Call component</span></p></td><td class="cl-75671a9a"><p class="cl-7566f376"><span class="cl-7566cbda">Region.type</span></p></td><td class="cl-75671a98"><p class="cl-7566f376"><span class="cl-7566cbda">Segmentation method</span></p></td><td class="cl-75671a99"><p class="cl-7566f376"><span class="cl-7566cbda">Segmentation accuracy: 95%ile range</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-75671a90"><p class="cl-7566f376"><span class="cl-7566cbda">CF</span></p></td><td class="cl-75671a93"><p class="cl-7566f376"><span class="cl-7566cbda">cf_duration</span></p></td><td class="cl-75671a91"><p class="cl-7566f376"><span class="cl-7566cbda">peak_percentage</span></p></td><td class="cl-75671a92"><p class="cl-7566f376"><span class="cl-7566cbda">[0.8994  1.05945]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-75671a90"><p class="cl-7566f376"><span class="cl-7566cbda">CF </span></p></td><td class="cl-75671a93"><p class="cl-7566f376"><span class="cl-7566cbda">cf_duration</span></p></td><td class="cl-75671a91"><p class="cl-7566f376"><span class="cl-7566cbda">pwvd</span></p></td><td class="cl-75671a92"><p class="cl-7566f376"><span class="cl-7566cbda">[0.9392  1.02185]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-75671a90"><p class="cl-7566f376"><span class="cl-7566cbda">tFM</span></p></td><td class="cl-75671a93"><p class="cl-7566f376"><span class="cl-7566cbda">downfm_duration</span></p></td><td class="cl-75671a91"><p class="cl-7566f376"><span class="cl-7566cbda">peak_percentage </span></p></td><td class="cl-75671a92"><p class="cl-7566f376"><span class="cl-7566cbda">[0.648 1.348]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-75671a90"><p class="cl-7566f376"><span class="cl-7566cbda">tFM </span></p></td><td class="cl-75671a93"><p class="cl-7566f376"><span class="cl-7566cbda">downfm_duration</span></p></td><td class="cl-75671a91"><p class="cl-7566f376"><span class="cl-7566cbda">pwvd</span></p></td><td class="cl-75671a92"><p class="cl-7566f376"><span class="cl-7566cbda">[0.88675 1.208  ]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-75671a90"><p class="cl-7566f376"><span class="cl-7566cbda">iFM</span></p></td><td class="cl-75671a93"><p class="cl-7566f376"><span class="cl-7566cbda">upfm_duration</span></p></td><td class="cl-75671a91"><p class="cl-7566f376"><span class="cl-7566cbda">peak_percentage</span></p></td><td class="cl-75671a92"><p class="cl-7566f376"><span class="cl-7566cbda">[0.624 1.3  ]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-75671a95"><p class="cl-7566f376"><span class="cl-7566cbda">iFM </span></p></td><td class="cl-75671a94"><p class="cl-7566f376"><span class="cl-7566cbda">upfm_duration</span></p></td><td class="cl-75671a96"><p class="cl-7566f376"><span class="cl-7566cbda">pwvd</span></p></td><td class="cl-75671a97"><p class="cl-7566f376"><span class="cl-7566cbda">[0.918  1.2416]</span></p></td></tr></tbody></table></div></template>
<div id="01395d9e-f2bc-46da-a1dd-7c740e37d315"></div>
<script>
var dest = document.getElementById("01395d9e-f2bc-46da-a1dd-7c740e37d315");
var template = document.getElementById("d7d6389f-b675-494f-b6b5-c80c8970d90a");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;"
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
fantome.appendChild(templateContent);
</script>

</div>
</div>
<div id="discussion" class="section level2">
<h2><span class="header-section-number">7.4</span> Discussion</h2>
<p>Software based automation in acoustic analysis is an important step in ensuring reproducible results, which in turns spurs the growth of the research field <span class="citation">(McFee et al. <a href="#ref-mcfee2018open" role="doc-biblioref">2018</a>; Baker and Vincent <a href="#ref-bakervincent2019" role="doc-biblioref">2019</a>)</span>. The <code>itsfm</code> package written in the Python <span class="citation">(Van Rossum and Drake Jr <a href="#ref-van1995python" role="doc-biblioref">1995</a>)</span> language is an open-sourced method which may be used in the analysis of animal vocalisations such as CF-FM bat calls, and other vocalisations. The <code>itsfm</code> package has already been successfully used to segment and measure call parameters in an upcoming publication on group echolocation in CF-FM bats <span class="citation">(Mysuru Rajagopalachari et al. <a href="#ref-hbcpaper" role="doc-biblioref">2020</a>)</span>. The package introduces a new method the ‘pwvd’ method to segment CF and FM components based directly on the rate of frequency modulation. The ‘pwvd’ method also performs consistently better than the ‘peak-percentage’ method, and is thus the recommended segmentation method to use, at least for sounds that resemble CF-FM calls.</p>
<p>The use of <code>itsfm</code> in the analysis of other types of vocalisations still needs further explored. For instance, bird calls have been analysed (See <a href="https://itsfm.readthedocs.io/en/latest/gallery_dir/z_bird_eg.html#sphx-glr-gallery-dir-z-bird-eg-py">online user-guide</a>). The current ‘pwvd’ frequency tracking implementation only tracks a single frequency per point of time, and thus is not able to handle multi-harmonic sounds with equal harmonic emphasis very well. Future implementations of frequency tracking need to apply more sophisticated problem-region detection and also frequency tracking (eg. Viterbi path).</p>
</div>
<div id="open-source-software-and-packages-used" class="section level2">
<h2><span class="header-section-number">7.5</span> Open-source software and packages used</h2>
<p><code>itsfm</code> is written in the Python language <span class="citation">(Van Rossum and Drake Jr <a href="#ref-van1995python" role="doc-biblioref">1995</a>)</span>, and relies on the numpy, scipy, pandas, matplotlib and tftb <span class="citation">(Travis E Oliphant <a href="#ref-numpy" role="doc-biblioref">2006</a>; Virtanen et al. <a href="#ref-2020SciPy" role="doc-biblioref">2020</a>; John D Hunter <a href="#ref-matplotlib" role="doc-biblioref">2007</a>; Wes McKinney and others <a href="#ref-pandas" role="doc-biblioref">2010</a>; Deshpande <a href="#ref-tftb" role="doc-biblioref">2019</a>)</span>. The Jupyter Notebook and Rmarkdown projects <span class="citation">(Kluyver et al. <a href="#ref-jupyter" role="doc-biblioref">2016</a>; Xie, Allaire, and Grolemund <a href="#ref-rmarkdown" role="doc-biblioref">2018</a>)</span> were used in the analysis of data and writing of this paper.</p>
</div>
<div id="supporting-information" class="section level2">
<h2><span class="header-section-number">7.6</span> Supporting information</h2>
<p>The <code>itsfm</code> package can be installed from the Python package index (PyPi) with the command <code>pip install itsfm</code>. The latest versions of the package and drafts of this paper are accessible at <a href="https://github.com/thejasvibr/itsfm">https://github.com/thejasvibr/itsfm</a>. Online documentation with detailed examples and troubleshooting guides can be accessed at <a href="https://itsfm.readthedocs.io">https://itsfm.readthedocs.io</a></p>
</div>
<div id="acknowledgements" class="section level2">
<h2><span class="header-section-number">7.7</span> Acknowledgements</h2>
<p>I would like to thank Diana Schoeppler for sharing know-how on analysing CF-FM calls and Neetash MR for helpful discussions. This work was funded by the DAAD and the IMPRS for Organismal Biology. I’d like to thank the following people for contributing to the call recording library Aditya Krishna, Aiqing Lin, Gloria Gessinger, Klaus-Gerhard Heller, Laura Stidsholt and Neetash MR.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-bakervincent2019">
<p>Baker, Ed, and Sarah Vincent. 2019. “A Deafening Silence: A Lack of Data and Reproducibility in Published Bioacoustics Research?” <em>Biodiversity Data Journal</em> 7: e36783. <a href="https://doi.org/10.3897/BDJ.7.e36783">https://doi.org/10.3897/BDJ.7.e36783</a>.</p>
</div>
<div id="ref-boashash2015time">
<p>Boashash, Boualem. 2015. <em>Time-Frequency Signal Analysis and Processing: A Comprehensive Reference</em>. Academic Press.</p>
</div>
<div id="ref-brumm2017measurement">
<p>Brumm, Henrik, Sue Anne Zollinger, Petri T Niemelä, and Philipp Sprau. 2017. “Measurement Artefacts Lead to False Positives in the Study of Birdsong in Noise.” <em>Methods in Ecology and Evolution</em> 8 (11): 1617–25.</p>
</div>
<div id="ref-tftb">
<p>Deshpande, Jaidev. 2019. <em>Tftb</em> (version 0.1.1). <a href="https://pypi.org/project/tftb/">https://pypi.org/project/tftb/</a>.</p>
</div>
<div id="ref-fawcett2015echolocation">
<p>Fawcett, Kayleigh, David S Jacobs, Annemarie Surlykke, and John M Ratcliffe. 2015. “Echolocation in the Bat, Rhinolophus Capensis: The Influence of Clutter, Conspecifics and Prey on Call Design and Intensity.” <em>Biology Open</em> 4 (6): 693–701.</p>
</div>
<div id="ref-fenton2013questions">
<p>Fenton, M Brock. 2013. “Questions, Ideas and Tools: Lessons from Bat Echolocation.” <em>Animal Behaviour</em> 85 (5): 869–79.</p>
</div>
<div id="ref-fu2018systematic">
<p>Fu, Yanqing, and Laura N Kloepper. 2018. “A Systematic Method for Isolating, Tracking and Discriminating Time-Frequency Components of Bat Echolocation Calls.” <em>The Journal of the Acoustical Society of America</em> 143 (2): 716–26.</p>
</div>
<div id="ref-gessinger2019unusual">
<p>Gessinger, Gloria, Tania P Gonzalez-Terrazas, Rachel A Page, Kirsten Jung, and Marco Tschapka. 2019. “Unusual Echolocation Behaviour of the Common Sword-Nosed Bat Lonchorhina Aurita: An Adaptation to Aerial Insectivory in a Phyllostomid Bat?” <em>Royal Society Open Science</em> 6 (7): 182165.</p>
</div>
<div id="ref-green1979analysis">
<p>Green, Steven, and Peter Marler. 1979. “The Analysis of Animal Communication.” In <em>Social Behavior and Communication</em>, 73–158. Springer.</p>
</div>
<div id="ref-griffin1958listening">
<p>Griffin, Donald R. 1958. “Listening in the Dark: The Acoustic Orientation of Bats and Men.”</p>
</div>
<div id="ref-hage2013ambient">
<p>Hage, Steffen R, Tinglei Jiang, Sean W Berquist, Jiang Feng, and Walter Metzner. 2013. “Ambient Noise Induces Independent Shifts in Call Frequency and Amplitude Within the Lombard Effect in Echolocating Bats.” <em>Proceedings of the National Academy of Sciences</em> 110 (10): 4063–8.</p>
</div>
<div id="ref-hage2014ambient">
<p>Hage, Steffen R, Tinglei Jiang, Sean W Berquist, Jiang Feng, and Walter Metzner. 2014. “Ambient Noise Causes Independent Changes in Distinct Spectro-Temporal Features of Echolocation Calls in Horseshoe Bats.” <em>Journal of Experimental Biology</em> 217 (14): 2440–4.</p>
</div>
<div id="ref-matplotlib">
<p>Hunter, John D. 2007. “Matplotlib: A 2D Graphics Environment.” <em>Computing in Science &amp; Engineering</em> 9 (3): 90–95.</p>
</div>
<div id="ref-jupyter">
<p>Kluyver, Thomas, Benjamin Ragan-Kelley, Fernando Pérez, Brian Granger, Matthias Bussonnier, Jonathan Frederic, Kyle Kelley, et al. 2016. “Jupyter Notebooks – a Publishing Format for Reproducible Computational Workflows.” Edited by F. Loizides and B. Schmidt. IOS Press.</p>
</div>
<div id="ref-kopsinis2010time">
<p>Kopsinis, Yannis, Elias Aboutanios, Dean A Waters, and Steve McLaughlin. 2010. “Time-Frequency and Advanced Frequency Estimation Techniques for the Investigation of Bat Echolocation Calls.” <em>The Journal of the Acoustical Society of America</em> 127 (2): 1124–34.</p>
</div>
<div id="ref-lu2020echolocating">
<p>Lu, Manman, Guimin Zhang, and Jinhong Luo. 2020. “Echolocating Bats Exhibit Differential Amplitude Compensation for Noise Interference at a Sub-Call Level.” <em>Journal of Experimental Biology</em> 223 (19).</p>
</div>
<div id="ref-mcfee2018open">
<p>McFee, Brian, Jong Wook Kim, Mark Cartwright, Justin Salamon, Rachel M Bittner, and Juan Pablo Bello. 2018. “Open-Source Practices for Music Signal Processing Research: Recommendations for Transparent, Sustainable, and Reproducible Audio Research.” <em>IEEE Signal Processing Magazine</em> 36 (1): 128–37.</p>
</div>
<div id="ref-pandas">
<p>McKinney, Wes, and others. 2010. “Data Structures for Statistical Computing in Python.” In <em>Proceedings of the 9th Python in Science Conference</em>, 445:51–56. Austin, TX.</p>
</div>
<div id="ref-metzner2016ultrasound">
<p>Metzner, Walter, and Rolf Müller. 2016. “Ultrasound Production, Emission, and Reception.” In <em>Bat Bioacoustics</em>, 55–91. Springer.</p>
</div>
<div id="ref-hbcpaper">
<p>Mysuru Rajagopalachari, Neetash, Thejasvi Beleyur, Aditya Krishna, and Holger R. Goerlitz. 2020. “Title to Be Decided.”</p>
</div>
<div id="ref-numpy">
<p>Oliphant, Travis E. 2006. <em>A Guide to Numpy</em>. Vol. 1. Trelgol Publishing USA.</p>
</div>
<div id="ref-schnitzler2011auditory">
<p>Schnitzler, Hans-Ulrich, and Annette Denzinger. 2011. “Auditory Fovea and Doppler Shift Compensation: Adaptations for Flutter Detection in Echolocating Bats Using Cf-Fm Signals.” <em>Journal of Comparative Physiology A</em> 197 (5): 541–59.</p>
</div>
<div id="ref-schoeppler2018precise">
<p>Schoeppler, Diana, Hans-Ulrich Schnitzler, and Annette Denzinger. 2018. “Precise Doppler Shift Compensation in the Hipposiderid Bat, Hipposideros Armiger.” <em>Scientific Reports</em> 8 (1): 1–11.</p>
</div>
<div id="ref-tian1997echolocation">
<p>Tian, Biao, and Hans-Ulrich Schnitzler. 1997. “Echolocation Signals of the Greater Horseshoe Bat (Rhinolophus Ferrumequinum) in Transfer Flight and During Landing.” <em>The Journal of the Acoustical Society of America</em> 101 (4): 2347–64.</p>
</div>
<div id="ref-van1995python">
<p>Van Rossum, Guido, and Fred L Drake Jr. 1995. <em>Python Reference Manual</em>. Centrum voor Wiskunde en Informatica Amsterdam.</p>
</div>
<div id="ref-vater2003development">
<p>Vater, M, M Kossl, E Foeller, F Coro, E Mora, and IJ Russell. 2003. “Development of Echolocation Calls in the Mustached Bat, Pteronotus Parnellii.” <em>Journal of Neurophysiology</em> 90 (4): 2274–90.</p>
</div>
<div id="ref-2020SciPy">
<p>Virtanen, Pauli, Ralf Gommers, Travis E. Oliphant, Matt Haberland, Tyler Reddy, David Cournapeau, Evgeni Burovski, et al. 2020. “SciPy 1.0: Fundamental Algorithms for Scientific Computing in Python.” <em>Nature Methods</em> 17: 261–72. <a href="https://doi.org/https://doi.org/10.1038/s41592-019-0686-2">https://doi.org/https://doi.org/10.1038/s41592-019-0686-2</a>.</p>
</div>
<div id="ref-rmarkdown">
<p>Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. <em>R Markdown: The Definitive Guide</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tacost-testing-and-simulating-the-performance-of-acoustic-tracking-systems.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="general-discussion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["beleyur_thesis.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
